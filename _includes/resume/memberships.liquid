<div class="list-groups">
  {% assign memberships = data.memberships | sort: 'startDate' | reverse %}
  {% for membership in memberships %}
    <div class="list-group col-md-6">
      <table class="table-cv list-group-table">
        <tbody>
          <tr>
            {% if membership.icon %}
              <td class="list-group-category-icon">
                <i class="{{ membership.icon }}"></i>
              </td>
            {% else %}
              <td class="list-group-category-icon"></td>
            {% endif %}
            <!-- Calculate colspan number for category title -->
            {% assign i = 1 %}
            {% for item in membership.items %}
              {% assign i = i | plus: 1 %}
            {% endfor %}
            <td colspan="{{ i }}" class="list-group-category">
              <a href="{{ membership.url | default: # }}">{{ membership.organization }}</a>
            </td>
          </tr>
          <tr>
            <td></td>
            <td class="list-group-name">
              <b>{{ membership.role }}</b>
            </td>
            <td class="list-group-name">{{ membership.startDate }} - {{ membership.endDate }}</td>
          </tr>
          <tr>
            <td></td>
            <td class="list-group-name" colspan="2">
              {{ membership.description }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  {% endfor %}
</div>
